language: node_js
node_js: stable
script:
- npm run build
- npm run test:lint
- wct --skip-plugin local
- 'if [ "$TRAVIS_BRANCH" == "master" ]; then frauci-update-version && export TRAVIS_TAG=$(frauci-get-version) && npm run build && npm run publish-release; fi'
env:
  global:
  - REPO_NAME=d2l-fetch-simple-cache
  # SAUCE_USERNAME
  - secure: tulJfszKW5CVmDqaAdDdVQfNV9+OO8dsVB2b4X5dzTwC7bF2oNREVTHSkLUbxDCzBLRCmZfCTZc+h+Hz1e5OuppBJL99rp96NRe94XgFcq8ecOYhlhxIk8yrJ2RoeRgdpAMsi0EddsuDP36i2F2x6t5kqUATk3uZwVskzlU4NIXf8LzW3XvpEzSiLfuSqrmJ4P4lAmwTxMZ+S33gBoO7me1BBL3JhaX5hHAEyawWMffyPomLwiJEe3n0M8lahN1fp8gAR3WkC2LRX8ab/omuvqgTTDzpT8buxPuqTIxypPYhXDjlM3mGWvUpZ1jcMZloyEJXRFVWmBZeYZXMgyvYhV47FpU42kXl0RP9C+v7pACrzEenWKzhsqNbkC8YbedHTAYfonJdfs5y7pzIRK8+Yxo/BUH7sxuGBOm+KEOQtlj42NI1U0llaiagm5KZHJdM4W691Y+tuZ6OU/YxBd+/ofKsuaW2lJZXkZnwnwKLHA5FsEk/Zrvi0dl2Ld+bwFpupb0D7k5Pj7SBi86igN0Zcl8VmHI6mUgZGk6bVblqd44MdySKcmCqJKz7rtC+axLlOnHj/JUAjWJWEnmXKTBygamYqrKn+0OL2VX5KtR3ateUJGrUy9BP6SehlI5Cy1R2+1Fg5tbFbH7tnz1jPdSrAabMDSGWWSZrAcoE7wXUoZ0=
  # CDN_SECRET
  - secure: CA/ehWONin4NInwmkCzjgRqeC26Ywdyj6mJHWEgFPpkEOOi1dgmrkL11CIsmbzr2+qOehZoUOrd+EuPt2uZQEDwK2dN6sIDoodr1DjvfnnUue9SKL8Mpn3PebdhGw0gSl9ujSinfR5OzO5fjOHwp7WHICLQ2FcOvUdV49zxZ82OZUnu2GaQ/J0aTJO2/haV5LPfMwLnZmXXfDVoQUxXz3m7V8Rh45b8/DAMpn9/lKepl8wX/saNpUbamiKwRaWQEp1IO63bODjok6xVCtRlILLUHJ6SjqyunmfXAXr2iGjD9PK1R5OSXNqviB755d6FxgFxgYbgRwRjLGNi9UWpCH9lwx5EZEm/lvrdfqQiloAVDWdEknA1UyGhX1KfvRVhqc3jUymzCchYDM+upEYDHpE0R+fcMjWStH7PNBanCsfgWRF5oSLCC0Y2vlLaDPMTWYIS1k3bO7IsmjrF2TDz7yoqAFsJZK//IVOpugD6FJOt2cMg/pjJJk/lGii5jpWxXm2mXWMKNZu3qpQsYMWBZvtmdmfaVwfjLrE2o09182P+TUYmKrlB/15qUVMqi/UGmkQg9JZ+1tFqZDsBUd/ms4vrx+dFkh+GYYg2uExcbQywBZyhE1RKORLROvbKoam0ye+0vhTlVDfn1rc7HOKLDKcrqGbAdmwbrogYlSeZA+qc=
  # GITHUB_RELEASE_TOKEN
  - secure: cCuKrRr2ebOBO+hApunX0GbBtx91PtXW628onGoh4c8JldOEJlUzaMFgSAGOnTLCGZWCvesXFSUyGPvhtr2H6C6Y9HmVB5VT6jS4P11roKvoSTR0nUpLbV47YoX0TRYUF5UGOPTgNW7tH1dCxdDsy4B2VNiFpju8mTJ+CGeDYZQBXyVvRVFqSjNLARbm9j0448lxWIKMZJROAJX6f9/irIE27NwpcegoViQMdLombrZIYVDDAyBlaoSkYG7dwJZnG/7KmwEistEB2RGAcIOPmtfao1PBT00GzuBUnSwoB8apHxe7s82oOseo3xxjVv7ZQfhKLEkLR20yT4Vms15kwlcaOXR9ALDeox5Lbq/Jp2IF+KWYBlmQL/J6kC1mJIyaREjHVt7FciN20LR3a3fa60gDWOAFUXf1FMMgdXekEW6Sejop8qGCjC9ereSaL2q5QZMMJfXKqIf/1yJLgXoVJNNp5VKvBD7HBgqLjsyvfUkth9/cLPKN5FRIFdwgEpHWH4pdSmltnFMO6hHFzvnPaL/3xRWNr4B5FsXnWP72X46X5vT/u3yXvpMako6Zao45th5YHKM4EL0VqbHv5gAkl0ZK8ejIsDnQlxlu7Lt3oh71O3nWWWSTY9UHVs8cFV3kUztRWjAyAp2COBa8YRcjkvuUTgYrzizull18vT2SVuk=
addons:
  jwt:
    #SAUCE_ACCESS_KEY
    secure: kBSW1WHkWXXMSz2uNFFREcLg7CI6luReVTmy/mGDaKJsO3CwYz7+hWl6vFr4+0+tRy/IOM2xgJxgnpWtSk54Id9ZvhtfVcuDZjIl4luqoPJgcX9NgxuNTJ02WQokByAEQ8ViRDB1lpuQsajc8d+3RZMiypVRl5QXo48b72mxr12FTZdZn0ld0DKGpvRs93BvvgqYLry21d/NlHkLEdsETEt/ifDXV4w+dqRaDOc9OlU4O+aWr1RTjfaWD96fFZD3eP67k/+GCL1v21YLWRzhs8Q/mT1SiJLYyQXhREwbIuYyXWMKR6i+3MjE818YUfDaLvkVF87UN72KEWS7o4OBxRocA8AE9JkiSYDqMQ567gjv0y+19WEWG7pCfBzpBbQVaMrxuJnGZtOjgpVTIao51AprPZQDt+oTw34nFyhnAJPaBRjmbKjvAOV8WIfuWpE+b2K27+97A/Uozk6NMeBnRuAVL31emBjzpJ0kDFpsoKIKuJv0hmuKacla7dFMOe7q+kC5gweYFGsN33ZUP8/lb7sRlSTPs0U7f4Giy0lAgbDh4nXsin9j4k0694LfiP1NCr2ua490c6qF1n2CwLUm7iomYnfuTF8Z0+sE1Im+iyBKXiT0+LQX12q4W16+08h+yuTUJr7/XtBLuTORjGxyG5H9keH8GKcAC3SDCh6aut0=
